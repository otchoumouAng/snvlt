{% extends 'template_base.html.twig' %}

{% block Title %}
    {% trans %}SNVLT{% endtrans %} - Corrections
{% endblock %}

{% block titre_page %}
    <h2 class="text-dark font-weight-bold mb-2">
        <img src="{{ asset('assets/images/webapp/correction.png') }}" alt="correctiion">  Corrections
    </h2>
{% endblock %}


 {% block notifs %}
     {% include 'base/notifs.html.twig' %}
 {% endblock %}

 {% block menu %}
     {% include 'base/menu.html.twig' %}
 {% endblock %}

{% block page_content %}
    <link rel="stylesheet" href="{{ asset('assets/assets_other/vendor/fonts/boxicons.css') }}" />
    <link rel="stylesheet" href="{{ asset('assets/assets/css/modal.css') }}" />
    <link rel="stylesheet" href="{{ asset('assets/select_btn/css/hierarchy-select.min.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="{{ asset('assets/select2/select2.min.css') }}" rel="stylesheet" />
    <link rel="stylesheet" href="{{ asset('assets/webapp/assets/vendors/choices.js/choices.min.css') }}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <link href="{{ asset('assets/mdb/css/mdb.min.css') }}" rel="stylesheet" />
    <link href="{{ asset('assets/mdb/css/mdb.min.css') }}" rel="stylesheet" />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <section class="section">
        <div class="card">
            <div class="card-body">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="exploitation-tab" data-bs-toggle="tab" data-bs-target="#exploitation" type="button" role="tab" aria-controls="exploitation" aria-selected="true">Exploitation</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Transformation</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Observation Indépendante</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="administration-tab" data-bs-toggle="tab" data-bs-target="#administration" type="button" role="tab" aria-controls="contact" aria-selected="false">Administration</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active alert-warning p-2" id="exploitation" role="tabpanel" aria-labelledby="exploitation-tab">
                        <h4 class="text-danger font-weight-bold">Opérations sur Documents d'exploitation et statistiques</h4>
                        <div class="input-group input-group-sm mb-3">
                            <select class="form-control custom-select-sm" name="type_doc" id="type_doc" style="max-width: 250px;" >
                                    <option value="0">Documents Type</option>
                                    {% for typed in liste_docs %}
                                        <option value="{{ typed.id }}">{{ typed.abv }}</option>
                                    {% endfor %}
                            </select>
                            <input type="text" class="form-control input-sm" id="txt_recherche" placeholder="Rechercher le document" aria-label="Rechercher document" aria-describedby="btn_recherche">
                            <button class="btn btn-primary" type="button" id="btn_recherche">Rechercher</button>
                        </div>
                        <div class="p-2 infos_doc"></div>
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">

                    </div>
                    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">

                    </div>

                    <div class="tab-pane fade" id="administration" role="tabpanel" aria-labelledby="contact-tab" style="max-height: 500px;overflow-y: scroll;">
                        <div class="w-100 p-3 mb-3 row">
                            <div class="col-md-4 alert-primary font-weight-bold text-primary p-2"><h2 class="mt-2">Modifier un utilisateur</h2></div>
                            <div class="col-md-8 text-center pb-3 font-weight-bold text-danger p-2 d-inline-flex" style="border:1px solid lightblue;">
                                <select class="mx-auto w-100" name="modif_utilisateurs" id="modif_utilisateurs" style="background: linear-gradient(#d6dadc, #9bd1e0);min-width: 400px;">
                                    <option value="0">Utilisateurs </option>
                                    {% for usr in users %}
                                        <option value="{{ usr.id }}">{{ usr.email }} - [{{ usr}}] </option>
                                    {% endfor %}
                                </select>
                                <a href="#" class="btn btn-sm mx-auto text-white" style="background: #1a831c;min-width: 150px;" data-bs-toggle="modal" data-bs-target="#user_modif_modal" id="modif_user">Modifier</a>
                            </div>
                        </div>
{#                        <div class="w-100 p-3 mb-3 row">#}
{#                            <div class="col-md-4 alert-primary font-weight-bold text-primary p-2"><h2 class="mt-2">Retirer un responsable</h2></div>#}
{#                            <div class="col-md-8 text-center pb-3 font-weight-bold text-danger p-2 d-inline-flex" style="border:1px solid lightblue;">#}
{#                                <select class="mx-auto w-100" name="liste_respo" id="liste_respo" style="background: linear-gradient(#d6dadc, #9bd1e0);min-width: 400px;">#}
{#                                    <option value="0">Responsables </option>#}
{#                                    {% for usr in users %}#}
{#                                        {% if (usr.isResponsable) %}#}
{#                                            <option value="{{ usr.id }}">{{ usr.email }} - [{{ usr}}] </option>#}
{#                                        {% endif %}#}
{#                                    {% endfor %}#}
{#                                </select>#}
{#                                <a href="#" class="btn btn-sm mx-auto text-white" data-bs-toggle="modal" data-bs-target="#user_Retrait_Respo_modal" style="background: #1a831c;min-width: 150px;">Retirer</a>#}
{#                            </div>#}
{#                        </div>#}
                        <div class="w-100 p-3 mb-3 row">
                            <div class="col-md-4 alert-danger font-weight-bold text-danger p-2"><h2 class="mt-2">Supprimer un utilisateur</h2></div>
                            <div class="col-md-8 text-center pb-3 font-weight-bold text-danger p-2 d-inline-flex" style="border:1px solid lightblue;">
                                <select class="mx-auto w-100" name="utilisateurs" id="utilisateurs" style="background: linear-gradient(#f6eded, #f1b1b1);min-width: 400px;">
                                </select>
                                <a href="#" class="btn btn-danger btn-sm mx-auto" data-bs-toggle="modal" data-bs-target="#user_delete_modal" style="min-width: 150px;">Supprimer</a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

{#        Modification BRH#}
        <div class="modal fade" id="modif_brh" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-xl">
                <form class="modal-content">
                    <div class="modal-header  alert-secondary">
                        <h5 class="modal-title text-dark titre" id="backDropModalTitle">Modification MRH</h5>
                        <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="d-inline-flex">
                            <a href="#" id="btn_numero_feuillet" data-bs-toggle="modal" data-bs-target="#edit_numfeuillet_modal" class="btn btn-sm btn-info m-1 font-weight-light">Modifier N° Feuillet</a>
                            <a href="#" id="btn_edit_feuillet" class="btn btn-sm btn-info m-1 font-weight-light">Modifier Entête Feuillet</a>
                            <a href="#" id="btn_add_feuillet" data-bs-toggle="modal" data-bs-target="#nv_numfeuillet_modal" class="btn btn-sm btn-info m-1 font-weight-light">Ajouter Feuillet</a>
                            <a href="#" id="btn_reset_feuillet" data-bs-toggle="modal" data-bs-target="#reset_numfeuillet_modal" class="btn btn-sm btn-danger m-1 ms-3 font-weight-light" style="margin-left: 200px;">Réinitialiser Feuillet</a>
                            <a href="#" id="btn_delete_feuillet"  data-bs-toggle="modal" data-bs-target="#delete_numfeuillet_modal" class="btn btn-sm btn-danger m-1 font-weight-light">Supprimer Feuillet</a>
                        </div>
                        <section class="section p-3" style="background:radial-gradient(#7d807b, #889ca1); border: 1px #9d9883 solid">
                            <div class="" style="background: transparent">
                                <div class="row justify-content-start" style="border: rgba(211,211,211,0.31) 1px solid">
                                    <div class="col-md-4 " style="width: 100%;">
                                        <div class="row mb-2">
                                            <span class="col-6 text-white">{{ 'Page No' | trans }}</span><select class="col-6"  name="numero_page_select" id="numero_page_select" data-placeholder="Liste des pages" style="font-size: 16px;background-color: #418105; border: 1px solid lightgrey;color: white">
                                            </select>
                                        </div>
                                        <div class="row form-group has-error has-feedback mb-2">
                                            <span class="col-5 text-white">{{ 'Destination' | trans }} </span><span class="text-danger col-1">*</span><select class="col-6"  name="destination" id="destination" data-placeholder="Destination" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                                <option value="0">-- Sélectionnez une ville ---</option>
                                                {% for ville in villes %}
                                                    <option value="{{ ville.id }}">{{ ville.nomSousprefecture }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="row form-group has-error has-feedback mb-2">
                                            <span class="col-5 text-white">{{ 'Factory park' | trans }} </span><span class="text-danger col-1">*</span><select class="col-6"  name="parc_usine" id="parc_usine" data-placeholder="usine de destination" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                                {% for usine in usines %}
                                                    <option value="{{ usine.id }}">{{ usine.raisonSocialeUsine }}</option>
                                                {% endfor %}

                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4" style="width: 100%;">
                                        <div class="row mb-2">
                                            <span class="col-5 text-white">{{ 'Date Chargement' | trans }}</span><span class="text-danger col-1">*</span><input class="col-6" type="date" name="date_chargement" id="date_chargement"  style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">

                                        </div>
                                        <div class="row mb-2">
                                            <span class="col-6 text-white">{{ 'Chauffeur' | trans }}</span><input class="col-6" type="text" name="chauffeur" id="chauffeur" placeholder="Nom et prenoms " style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;text-transform: uppercase;">

                                        </div>
                                        <div class="row mb-2">
                                            <span class="col-5 text-white">{{ 'Immatriculation' | trans }}</span><span class="text-danger col-1">*</span><input class="col-6" type="text" name="immatriculation" id="immatriculation" placeholder="Immatriculation du camion" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="col-md-4" style="width: 100%;">
                                        <div class="row mb-2">
                                            <span class="col-6 text-white">{{ 'Cost' | trans }}</span><input class="col-6" type="number"  name="cout" id="cout" placeholder="Coût du chargement" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">

                                        </div>
                                        <div class="row mb-2">
                                            <span class="col-5 text-white">{{ 'Village' | trans }}</span><span class="text-danger col-1">*</span><input class="col-6" type="text"  name="village" id="village" placeholder="Village" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;text-transform: uppercase;">


                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="card " style="border: lightgrey solid 1px;background: #e0ebf7;">
                                <div class="p-3" style="background:radial-gradient(#f7fbeb, #e6f6f9)">
                                    {% if( app.user.codeOperateur.id == 1) %}
                                        <a href="#" class="btn mb-2 btn-sm m-2" id="add_data"  data-bs-toggle="modal" data-bs-target="#saisiebrh_dpif"   style="font-size: 18px;color: white;width: 200px;background: #456805"><i class="mdi mdi-plus-circle" style="font-size: 24px;color: white;margin-right: 5px;"></i><span>{{ 'Add Data' | trans }}</span></a>
                                    {% else %}
                                        <a href="#" class="btn mb-2 btn-sm m-2" id="add_data"  data-bs-toggle="modal" data-bs-target="#saisiecp"   style="font-size: 18px;color: white;width: 200px;background: #456805"><i class="mdi mdi-plus-circle" style="font-size: 24px;color: white;margin-right: 5px;"></i><span>{{ 'Add Data' | trans }}</span></a>
                                    {% endif %}
                                </div>
                                <div class="card-body p-2" style="background: #f4f2f2">
                                    <div class="d-sm-flex justify-content-between align-items-center transaparent-tab-border {">
                                        <ul class="nav nav-tabs tab-transparent" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link  text-dark active" style="font-size: 16px;color: #0011ff" id="overview-tab" data-toggle="tab" href="#databrh" role="tab" aria-selected="true">{{ 'BRH Data' | trans }}</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark" style="font-size: 16px;color: #0011ff" id="movements-tab" data-toggle="tab" href="#photo_tab" role="tab" aria-selected="false">Photo</a>
                                            </li>
                                        </ul>
                                        <div class="d-md-block d-none">
                                            <a href="#" class="text-light p-1"><i class="mdi mdi-view-dashboard"></i></a>
                                            <a href="#" class="text-light p-1"><i class="mdi mdi-dots-vertical"></i></a>
                                        </div>
                                    </div>

                                    <div class="tab-content tab-transparent-content">
                                        <div class="tab-pane fade show active" id="databrh" role="tabpanel" aria-labelledby="business-tab">
                                            <div class="row" style="background: #f4f2f2">
                                                <div class="col-md-12">
                                                    <div class="overflow-y-scroll" style="height: 400px;">
                                                        <table class="table table-responsive sticky-top" id="data_brh"  style="height: 400px;">
                                                            <thead>
                                                            <tr class="bg-light">
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 10%;">{{ 'Tree No' |trans}}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 10%;">{{ 'Letter' |trans}}</th>
                                                                <th class="font-weight-bold" style="font-size: 14px;width: 15%;">{{ 'species' |trans }}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 7%;">{{ 'Zone' |trans }}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 7%;">{{ 'X' |trans}}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 7%;">{{ 'Y' |trans}}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 7%;">{{ 'length' |trans}}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 7%;">{{ 'Diameter' |trans}}</th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 10%;">{{ 'Volume m' |trans}}<sup>3</sup></th>
                                                                <th class="text-center font-weight-bold" style="font-size: 14px;width: 10%;">Actions</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody id="body_contenu" class="bg-white">

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="photo_tab" role="tabpanel" aria-labelledby="business-tab">
                                            <img src="" id="image_feuillet" alt="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        {#Ajout Lignepagebrh#}
                        <div class="modal fade" id="saisiecp" data-bs-backdrop="static" tabindex="-1">
                            <div class="modal-dialog">
                                <form class="modal-content">
                                    <div class="modal-header  alert-secondary">
                                        <h5 class="modal-title text-dark titre" id="backDropModalTitle">{{ 'Add BRH Data' | trans}}</h5>
                                        <button
                                                type="button"
                                                class="btn-close"
                                                data-bs-dismiss="modal"
                                                aria-label="Close"
                                        ></button>
                                    </div>
                                    <div class="modal-body">

                                        <div class="row overflow-y-scroll" >

                                            <div  class="row bg-white m-2" style="height: 500px; overflow-y: scroll">
                                                <div class="alert-danger p-2 m-2" style="border-radius:10px; width:100%;" id="lbl_alert"></div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'No' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span> </label></div><div class="col-7 mt-3">
                                                    {# <input type="number" value="" id="numero_lignepagebrh" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;" onload="this.focus()">
                                                    #}<select type="number" class="select_numero"  id="select_numero" style="font-size: 16px;background-color: #72d5f9;font-weight: bold; border: 1px solid lightgrey;" onload="this.focus()">

                                                    </select>
                                                    <select  id="lettre_lignepagebrh" style="font-size: 16px;background-color: #72d5f9; border: 1px solid lightgrey;font-weight: bold;">
                                                        {#<option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>#}
                                                    </select>
                                                </div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'species' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">
                                                    {#        <select id="nom_essencebrh" readonly  style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                    <option value=0>-- Sélectionnez une essence ---</option>
                                    {% for essence in essences %}
                                        <option value="{{ essence.id }}">{{ essence.nomVernaculaire }}</option>
                                    {% endfor %}
                                </select>#}
                                                    <input type="text" readonly value="" id="nom_essencebrh" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                                </div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Zone' |trans }} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">
                                                    {#<select id="zh_lignepagebrh" readonly="true" onFocus="expand(this)" onBlur="unexpand(this)" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                    <option value=0>-- Sélectionnez une zone ---</option>
                                    {% for zone in zones %}
                                        <option value="{{ zone.id }}">{{ zone.zone }}</option>
                                    {% endfor %}
                                </select>#}
                                                    <input type="text" readonly value="" id="zh_lignepagebrh" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                                </div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'X' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number" readonly value="" id="x_lignepagebrh" style="font-weight: bold;font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;"></div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Y' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number" readonly value="" id="y_lignepagebrh" style="font-weight: bold;font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;"></div>
                                                {#<div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Letter' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">
                                <select  id="lettre_lignepagebrh" style="font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;">
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </div>#}
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Length' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number" readonly value="" id="longeur_lignepagebrh" style="font-weight: bold;font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;"></div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Diameter' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number" readonly value="" id="diametre_lignepagebrh" style="font-weight: bold;font-size: 16px;background-color: #fcf378; border: 1px solid lightgrey;"></div>
                                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Volume (m3)' |trans}} </label></div><div class="col-7 mt-3"><input type="number" value="" id="cubage_lignepagebrh" readonly style="font-weight: bold;background-color: #047104;color: white;"></div>
                                            </div>

                                        </div>


                                    </div>
                                    <div class="modal-footer alert-secondary">

                                        <button type="button" class="btn btn-primary mt-3" id="save_data" style="width: 100%; font-size: large;">{{ 'Save' | trans}}</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- Modal SUPPRESSION-->
        <div class="modal fade" id="suppression_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Suppression du BRH</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ SUPPRIMER UN BRH</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Ce document peut contenir des données</h6>
                                <h6  class="text-danger ">Voulez-vous vraiment supprimer le document ? Cette action est irreversible</h6>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>REVENIR
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light supprimer"  style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> SUPPRIMER
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="modal fade" id="user_delete_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/membership_validation.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Suppression Compte Utilisateur</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ SUPPRIMER UN COMPTE UTILISATEUR</label>

                                <h6  class="text-danger ">Voulez-vous vraiment supprimer ce compte ? Cette action est irreversible</h6>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>REVENIR
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light supprimer_user"  style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> SUPPRIMER
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Modifier Numero Feuillet-->
        <div class="modal" id="edit_numfeuillet_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;">Modification du N° Feuillet</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ CHANGER LE NUMERO DE FEUILLET</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Vous êtes responsable de cette action</h6>
                                <h6  class="text-danger ">Inscrivez SVP le nouveau numéro du feuillet ? </h6>
                                <input id="txt_numfeuillet" class="form-control text-center" style="font-size: 20px;font-weight: bold;border:solid red 1px;" type="text" placeholder="N° feuillet">
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>Annuler
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light changer_num_feuillet"  data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"   style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> Changer
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Ajouter Numero Feuillet-->
        <div class="modal" id="nv_numfeuillet_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Ajout d'un nouveau Feuillet</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ AJOUTER UN NOUVEAU NUMERO DE FEUILLET</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Vous êtes responsable de cette action</h6>
                                <h6  class="text-danger ">Inscrivez SVP le nouveau numéro du feuillet ? </h6>
                                <input id="txt_nv_numfeuillet" class="form-control text-center" style="font-size: 20px;font-weight: bold;border:solid red 1px;" type="text" placeholder="Nouveau N° feuillet">
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>Annuler
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light nv_num_feuillet"  data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"   style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> Changer
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Reinitialiser Numero Feuillet-->
        <div class="modal" id="reset_numfeuillet_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Réinitialisation de Feuillets</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ REINITIALISER LE FEUILLET</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Vous êtes responsable de cette action</h6>
                                <h6  class="text-danger ">Cette action est irréversible ? </h6>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>Annuler
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light reset_num_feuillet"  data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"   style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> Réinitialiser
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Supprimer Feuillet-->
        <div class="modal" id="delete_numfeuillet_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Suppression de Feuillets</h5>

                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ SUPPRIMER LE FEUILLET</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Vous êtes responsable de cette action</h6>
                                <h6  class="text-danger ">Cette action est irréversible ? </h6>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>Annuler
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light delete_num_feuillet"  data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"   style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> Supprimer
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Supprimer Bille-->
        <div class="modal" id="delete_bille_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/delivrance_document.png') }}" alt="document" style="margin-right: 10px; height: 32px;"> Suppression de Feuillets</h5>
                    </div>
                    <div class="modal-body">
                        <div class="justify-content-start d-inline-flex">
                            <div class="m-2">
                                <img src="{{ asset('assets/images/webapp/attention.png') }}" alt="attention">
                            </div>
                            <div class="m-2">
                                <label for="motif" class="text-dark font-weight-bold">ATTENTION VOUS ALLEZ SUPPRIMER UNE BILLE</label>
                                <h6  class="text-danger alert-danger p-1 mb-1">Vous êtes responsable de cette action</h6>
                                <h6  class="text-danger ">Cette action est irréversible ? </h6>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-success revenir font-weight-light  accept_loading" data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>Annuler
                            </a>
                            <a type="button" class="btn btn-danger text-white font-weight-light delete_bille"  data-bs-dismiss="modal" data-bs-target="#modif_brh" data-bs-toggle="modal"   style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> Supprimer
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        {#Modification Lignepagebrh GROUPE ADMIN#}
        <div class="modal fade" id="saisiebrh_dpif" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog">
                <form class="modal-content">
                    <div class="modal-header  alert-secondary">
                        <h5 class="modal-title text-dark titre" id="backDropModalTitle"></h5>
                        <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                data-bs-target="#modif_brh"
                                data-bs-toggle="modal"
                                aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <p class="alert-danger p-1 text-danger">ATTENTION!!! <br>Ne pas modifier les données si vous ne savez pas ce que vous faites!</p>
                        <div class="row overflow-y-scroll" >

                            <div  class="row bg-white m-2" style="height: 500px; overflow-y: scroll">
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'No' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span> </label></div><div class="col-7 mt-3">
                                    <input type="number" value="" id="numero_lignepagebrh_dpif" style="font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;" onload="this.focus()">

                                </div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'species' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">
                                    <select id="nom_essencebrh_dpif" readonly  style="font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;">
                                        <option value=0>-- Sélectionnez une essence ---</option>
                                        {% for essence in essences %}
                                            <option value="{{ essence.id }}">{{ essence.nomVernaculaire }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Zone' |trans }} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">

                                    <select id="zh_lignepagebrh_dpif"  style="font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;">
                                        <option value=0>-- Sélectionnez une zone ---</option>
                                        {% for zone in zones %}
                                            <option value="{{ zone.id }}">{{ zone.zone }}</option>
                                        {% endfor %}
                                    </select>

                                </div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'X' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number"  value="" id="x_lignepagebrh_dpif" style="font-weight: bold;font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;"></div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Y' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number"  value="" id="y_lignepagebrh_dpif" style="font-weight: bold;font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;"></div>

                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Letter' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3">
                                    <select  id="lettre_lignepagebrh_dpif" style="font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;font-weight: bold;">
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                    </select>
                                </div>

                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Length' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number"  value="" id="longeur_lignepagebrh_dpif" style="font-weight: bold;font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;"></div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Diameter' |trans}} <span class="text-danger" style="font-weight: bold;font-size: 18px;margin-left: 5px;">*</span></label></div><div class="col-7 mt-3"><input type="number"  value="" id="diametre_lignepagebrh_dpif" style="font-weight: bold;font-size: 16px;background-color: #f6d9c5; border: 1px solid lightgrey;"></div>
                                <div class="col-4 mt-4"><label for="" style="font-weight: bold">{{ 'Volume (m3)' |trans}} </label></div><div class="col-7 mt-3"><input type="number" value="" id="cubage_lignepagebrh_dpif" readonly style="font-weight: bold;background-color: #047104;color: white;"></div>
                            </div>

                        </div>


                    </div>
                    <div class="modal-footer alert-secondary">
                        <button type="button" class="btn btn-primary mt-3" id="save_data_dpif" style="width: 100%; font-size: large;">{{ 'Save' | trans}}</button>
                    </div>
                </form>
            </div>
        </div>

        {#  Modifier Utilisateur #}
        <div class="modal fade" id="user_modif_modal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <form class="modal-content">
                    <div class="modal-header alert-success">
                        <h5 class="modal-title" id="backDropModalTitle"><img src="{{ asset('assets/images/webapp/user.png') }}" alt="user" style="margin-right: 10px; height: 32px;"> Modifier Utilisateur</h5>
                        <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"
                                style="display: none;"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="">

                            <div class="w-100">
                                <div class=""><a class="m-2 btn btn-danger mx-auto btn_mdp">Réinitialiser le mot de passe</a><p class="alert-danger p-1">En cliquant sur ce bouton vous régénérez un nouveau mot de passe utilisateur</p> </div>
                                <div  class="w-100" style="max-height: 500px;overflow-y: scroll;width:100%;">

                                    <div class="input-group mb-2 mt-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Nom Utilisateur</span>
                                        <input type="text" class="form-control h4 border-0 fit-width" required style="font-size: large;text-transform: uppercase;" id="txt_nom"  aria-label="Nom utilisateur" aria-describedby="Nom utilisateur">
                                    </div>

                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Prénom(s)</span>
                                        <input type="text" class="form-control h4 border-0" required style="font-size: large;text-transform: uppercase;" id="txt_prenom"  aria-label="Prenoms utilisateur" aria-describedby="Prenoms utilisateur">
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Email</span>
                                        <input type="text" class="form-control h4 border-0" required style="font-size: large" id="txt_email"  aria-label="Email utilisateur" aria-describedby="Email utilisateur">
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Mobile</span>
                                        <input type="text" class="form-control h4 border-0" required style="font-size: large;width: fit-content" id="txt_mobile"  aria-label="Mobile utilisateur" aria-describedby="Mobile utilisateur">
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Fonction</span>
                                        <input type="text" class="form-control h4 border-0" style="font-size: large;text-transform: uppercase;width: fit-content" id="txt_fonction"  aria-label="Fonction utilisateur" aria-describedby="Fonction utilisateur">
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Titre</span>
                                        <select type="text" class="form-control h4 border-0 select_titre" required style="font-size: large" id="select_titre"  aria-label="Titre utilisateur" aria-describedby="Titre utilisateur">
                                            <option value="0">Sélectionnez le titre de l'utilisateur</option>
                                            {% for titre in titres %}
                                                <option value="{{ titre.id }}">{{ titre.libelle }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Langue</span>
                                        <select type="text" class="form-control h4 border-0 select_langue" required style="font-size: large" id="select_langue"  aria-label="Titre utilisateur" aria-describedby="Titre utilisateur">
                                            <option value="0">Sélectionnez la langue</option>
                                            <option value="fr">Français</option>
                                            <option value="en">Anglais</option>
                                        </select>
                                    </div>

                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Vous êtes</span>
                                        <select type="text" class="form-control h4 border-0 select_op" required style="font-size: large" id="select_op"  aria-label="Type Operateur" aria-describedby="Operateur">
                                            <option value="0">Sélectionnez le type Opérateur</option>
                                            {% for op in type_op %}
                                                <option value="{{ op.id }}">{{ op.libelleOperateur }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <select type="text" class="form-control h4 border-0 select_rattachement" style="font-size: large;background: #ccde96;display:none" id="select_rattachement" aria-label="Type Operateur" aria-describedby="Operateur">
                                        <option value="0">Sélectionnez votre ratachement</option>
                                        <option value="1">DIRECTION</option>
                                        <option value="2">SERVICE</option>
                                    </select>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light" style="min-width: 200px;">Votre structure</span>
                                        <select type="text" class="form-control h4 border-0 select_entite" style="font-size: large" id="select_entite"  aria-label="Type Operateur" aria-describedby="Operateur">
                                            <option value="0">Sélectionnez la structure</option>
                                        </select>
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light"  style="min-width: 200px;">Votre groupe</span>
                                        <select type="text" class="form-control h4 border-0 select_groupe" required style="font-size: large" id="select_groupe"  aria-label="groupe" aria-describedby="groupe">
                                            <option value="0">Sélectionnez le groupe</option>
                                            {% for groupe in groupes %}
                                                <option value="{{ groupe.id }}">{{ groupe.nomGroupe }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="input-group mb-2" style="border: 1px solid lightgrey">
                                        <span class="input-group-text h4 alert-light"  style="min-width: 200px;">Vos rôles</span>
                                        <select class="form-control multiple m-2" aria-expanded="false"  multiple id="select_roles" style="min-height:400px;">
                                            <option value="ROLE_ADMIN">ROLE_ADMIN</option>
                                            <option value="ROLE_USER">ROLE_USER</option>
                                            <option value="ROLE_MINEF">ROLE_MINEF</option>
                                            <option value="ROLE_DPIF">ROLE_DPIF</option>
                                            <option value="ROLE_DPIF_SAISI">ROLE_DPIF_SAISI</option>
                                            <option value="ROLE_EXPLOITANT">ROLE_EXPLOITANT</option>
                                            <option value="ROLE_EXPORTATEUR">ROLE_EXPORTATEUR</option>
                                            <option value="ROLE_INDUSTRIEL">ROLE_INDUSTRIEL</option>
                                            <option value="ROLE_OI">ROLE_OI</option>
                                            <option value="ROLE_COMMERCANT">ROLE_COMMERCANT</option>
                                            <option value="ROLE_DR">ROLE_DR</option>
                                            <option value="ROLE_DDEF">ROLE_DDEF</option>
                                            <option value="ROLE_CEF">ROLE_CEF</option>
                                            <option value="ROLE_PF">ROLE_PF</option>
                                        </select>
                                    </div>
                                    <hr style="border: 2px solid darkgreen">
                                    <h3>Autres informations</h3>
                                    <div class="row mx-auto ms-4">
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="isResponsable">
                                            <label class="form-check-label" for="isResponsable">Est Responsable ?</label>
                                        </div>
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="isActif">
                                            <label class="form-check-label" for="isActif">Est Actif ?</label>
                                        </div>
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="isVerified">
                                            <label class="form-check-label" for="isVerified">Email vérifié ?</label>
                                        </div>
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="isNouveau">
                                            <label class="form-check-label" for="isNouveau">Nouvel utilisateur ?</label>
                                        </div>
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="isSodef">
                                            <label class="form-check-label" for="isSodef">Agent SODEFOR ?</label>
                                        </div>
                                        <div class="form-check form-switch col-md-5 offset-1">
                                            <input class="form-check-input" type="checkbox" id="Statut">
                                            <label class="form-check-label" for="Statut">Statut ?</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <a type="button" class="btn btn-info revenir font-weight-light " data-bs-dismiss="modal" id="btn-revenir"  style="font-size: 16px;">
                                <i class="mdi mdi-check-circle text-white ms-4" style="font-size: 20px;margin-right: 5px;"></i>FERMER
                            </a>
                            <a type="button" class="btn btn-success text-white font-weight-light btn_save_edit"  style="font-size: 16px;margin-left: 15px;">
                                <i class="mdi mdi-cancel text-white me-2 " style="font-size: 20px;margin-right: 5px;"></i> MODIFIER
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <script src="{{ asset('assets/webapp/assets/vendors/simple-datatables/simple-datatables.js') }}"></script>
    <script src="{{ asset('assets/webapp/assets/vendors/jquery/jquery.min.js') }}"></script>
    <script src="{{ asset('assets/webapp/assets/vendors/choices.js/choices.min.js') }}"></script>
    <script src="{{ asset('assets/select_btn/js/hierarchy-select.min.js') }}"></script>
    <script src="{{ asset('assets/select2/select2.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script src="{{ asset('assets/mdb/js/mdb.umd.min.js') }}"></script>
    <script>
        let id_brh = 0;
        let id_user = 0;
        $('.utilisateurs').select2({
            placeholder: "--{% trans %}Model Type{% endtrans %}...",
            clear: true,
            theme: 'classic',
            width: '100%'
        });


        $('body').on('click','.supprimer_user', function(){
            let id_user = $('#utilisateurs').val()
            supprime_user(id_user);
        })

        function liste_users(){
            let contenu = '<option value="0">Sélectionnez Email</option>';
            //alert("OK")
            $.ajax({
                url: '{{ path('app_corrections_search_users') }}',
                type: 'POST',
                success: function (response) {
                    let reponse = JSON.parse(response);
                    for(var i = 0; i < reponse.length ; i++){

                        contenu = contenu + '<option value="' + reponse[i].id_user + '">' + reponse[i].email + '</option>';
                    }
                    document.querySelector('#utilisateurs').innerHTML = contenu;
                }
            });
        }

        function supprime_user(id_user){
            $.ajax({
                url: '{{ path('app_portail') }}snvlt/corrections/user/del/' + id_user,
                type: 'POST',
                success: function (response) {
                    let reponse = JSON.parse(response);
                    if (reponse[0].statut === "OK"){
                        alert("UTILISATEUR SUPPRIME")
                        liste_users();
                    } else {
                        alert("ERREUR LORS DE LA SUPPRSSION")
                    }

                }
            });
        }
        liste_users();
        $('#btn_recherche').on('click', function(){
            let  valeur = $('#type_doc').val();
            let  doc = $('#txt_recherche').val();

            switch (valeur){
                case "0":
                    alert("Veuillez SVP sélectionner un document");
                    break;
                case "2":
                    var docParts = doc.split("/");
                    //alert(docParts[0] + "-" + docParts[1])
                    recherche_brh(docParts[0] + "-" + docParts[1]);

                    break;
            }
        });
            $('body').on('click','.delete_brh', function(){
                id_brh = this.id;
            });

            $('body').on('click','.edit_brh', function(){
                id_brh = this.id;
                affiche_pages(id_brh);
            });
            $('.supprimer').on('click', function(){
                supprimer_brh();
            });
        // Functions
        // Recherche BRH
        function recherche_brh(doc){
            let contenu = '';
            $.ajax({
                url:'{{ path('app_portail') }}snvlt/corrections/search/brh/' + doc,
                type: 'POST',
                success: function (response){
                    let reponse = JSON.parse(response);
                    if (reponse.length > 0){
                        contenu = contenu + '<div class="p-2">'
                        contenu = contenu + '<table class="table table-responsive table-sm table-striped">'
                        contenu = contenu + '<thead><tr><th></th><th></th></tr></thead>'
                        contenu = contenu + '<table class="table table-responsive">'
                        contenu = contenu + '<tbody>'
                        contenu = contenu + '<tr><td><h5>N° BRH</h5></td><td> <span style="text-decoration: underline">' + doc + '</span></td></tr>'
                        contenu = contenu + '<tr><td><h5>Délivré le</h5></td><td>  <span style="text-decoration: underline">' + reponse[0].date_delivrance + '</span></td></tr>'
                        contenu = contenu + '<tr><td><h5>Forêt</h5></td><td>  <span style="text-decoration: underline">' + reponse[0].foret + '</span></td></tr>'
                        contenu = contenu + '<tr><td><h5>Exploitant</h5></td><td>  <span style="text-decoration: underline">' + reponse[0].exploitant + '</span></td></tr>'
                        contenu = contenu + '<tr class="alert-success"><td><h5>Volume</h5></td><td>  <span class="badge h3" style="background: #0a430c;color: white;">' + reponse[0].volume + ' m<sup>3</sup></span></td></tr>'
                        contenu = contenu + '</tbody>'
                        contenu = contenu + '</table>'
                        contenu = contenu + '<a href="#" class="btn btn-primary btn-sm m-2 edit_brh" style="min-width: 200px;" data-bs-target="#modif_brh" data-bs-toggle="modal" id="' + reponse[0].id +'">Modifier</a>'
                        contenu = contenu + '<a href="#" class="btn btn-danger  btn-sm m-2 delete_brh" style="min-width: 200px;" data-bs-target="#suppression_modal" data-bs-toggle="modal" id="' + reponse[0].id +'">Supprimer</a>'
                        contenu = contenu + '</div>'
                    } else {
                        contenu = '<h3 class="text-danger">Aucun BRH retrouvé</h3>'
                    }
                    document.querySelector('.infos_doc').innerHTML = contenu;
                }
            })
        }

        function supprimer_brh(){
            $.ajax({
                url: '{{ path('app_portail') }}snvlt/corrections/delete/brh/' + id_brh,
                type: 'POST',
                success: function (response) {
                    let reponse = JSON.parse(response);
                        if (reponse[0].statut === 'OK'){
                            alert("BRH SUPPRIME AVEC SUCCES");
                            document.location.reload();
                        } else {
                            alert("ERREUR LORS DE LA SUPPRESSION DU BRH");
                        }
                }
            });
        }





        // -------------------------------------------------------------------------------------------------------------------
        //     MODIFICATIONS BRH
        // -------------------------------------------------------------------------------------------------------------------
        //
        // Index de la page courante
        let index_page = 0;
        let id_ligne = 0;

        //Affiche les pages du document BRH


        $('#add_data').on('click', function (){
            liste_numeros_cp();
        })
        $('.changer_num_feuillet').on('click', function (){
            let txt_numfeuillet = $('#txt_numfeuillet').val();
            changer_numero_feuillet(txt_numfeuillet);
        })

        $('.nv_num_feuillet').on('click', function (){
            let txt_nv_numfeuillet = $('#txt_nv_numfeuillet').val();
            ajouter_numero_feuillet(txt_nv_numfeuillet);
        })

        $('.reset_num_feuillet').on('click', function (){
            reset_numero_feuillet();
        })
        $('.delete_num_feuillet').on('click', function (){
            delete_numero_feuillet();
        })
        $('.delete_bille').on('click', function (){
            supprimer_ligne(id_ligne);
        })
        $('body').on('click','.supprimer_b', function(){
            id_ligne = this.id;
        });
        $('body').on('click', '.editer_b', function (){
            id_bille = this.id;
            findSingleResult(this.id);
        })

        function findSingleResult(id_bille){
            let contenu = "";
            $.ajax({
                url : '{{ path('app_portail') }}snvlt/brh/edit/' + id_bille + '/B2',
                type : 'POST',
                success : function (response){
                    let info_bille = JSON.parse(response);

                    if (info_bille.length > 0){
                        $('#numero_lignepagebrh_dpif').val(info_bille[0].numero);
                        $('#nom_essencebrh_dpif').val(info_bille[0].essence);
                        $('#zh_lignepagebrh_dpif').val(info_bille[0].zh);
                        $('#x_lignepagebrh_dpif').val(info_bille[0].x);
                        $('#y_lignepagebrh_dpif').val(info_bille[0].y);
                        $('#lettre_lignepagebrh_dpif').val(info_bille[0].lettre);
                        $('#longeur_lignepagebrh_dpif').val(info_bille[0].lng);
                        $('#diametre_lignepagebrh_dpif').val(info_bille[0].dm);
                        $('#cubage_lignepagebrh_dpif').val(info_bille[0].cubage);

                    }

                }
            })
        }

        function changer_numero_feuillet(numero){
            if(index_page > 0){
                $.ajax({
                    url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/change_num/' + index_page + '/' + numero,
                    type: 'POST',
                    success: function(response) {
                        affiche_pages(id_brh)
                    },
                    error: function(error) {
                        console.log(error);
                    }
                })
            }
        }

        function ajouter_numero_feuillet(numero){
            if(index_page > 0){
                $.ajax({
                    url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/ajout_num/' + id_brh + '/' + numero,
                    type: 'POST',
                    success: function(response) {
                        affiche_pages(id_brh)
                        let reponse = JSON.parse(response);
                        if (reponse[0].valeur === 'SUCCESS'){
                            alert("LE FEUILLET VIENT D'ÊTRE CREE AVEC SUCCES");
                        } else {
                            alert("ECHEC LORS DE LA CREATION DU FEUILLET");
                        }
                    },
                    error: function(error) {
                        console.log(error);
                    }
                })
            }
        }
        function reset_numero_feuillet(){
            if(index_page > 0){
                $.ajax({
                    url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/reset_num/' + index_page,
                    type: 'POST',
                    success: function(response) {
                        affiche_pages(id_brh)
                        let reponse = JSON.parse(response);
                        if (reponse[0].valeur === 'SUCCESS'){
                            alert("LE FEUILLET VIENT D'ÊTRE REINITIALISE AVEC SUCCES");
                        } else {
                            alert("ECHEC LORS DE LA REINITIALISATION DU FEUILLET");
                        }
                    },
                    error: function(error) {
                        console.log(error);
                    }
                })
            }
        }

        function delete_numero_feuillet(){
            if(index_page > 0){
                $.ajax({
                    url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/delete_num/' + index_page,
                    type: 'POST',
                    success: function(response) {
                        affiche_pages(id_brh)
                        let reponse = JSON.parse(response);
                        if (reponse[0].valeur === 'SUCCESS'){
                            alert("LE FEUILLET VIENT D'ÊTRE SUPPRIME AVEC SUCCES");
                        } else {
                            alert("ECHEC LORS DE LA SUPPRESSION DU FEUILLET");
                        }
                    },
                    error: function(error) {
                        console.log(error);
                    }
                })
            }
        }
        function supprimer_ligne(id_ligne){
            if(index_page > 0){
                $.ajax({
                    url: '{{ path('app_portail') }}snvlt/docbrh/op/lignes_brh/delete_ligne/' + id_ligne,
                    type: 'POST',
                    success: function(response) {
                        affiche_lignes_courante(index_page)
                        let reponse = JSON.parse(response);
                        if (reponse[0].valeur === 'SUCCESS'){
                            alert("BILLE BRH SUPPRIMEE AVEC SUCCES");
                        } else {
                            alert("ECHEC LORS DE LA SUPPRESSION DE LA BILLE");
                        }
                    },
                    error: function(error) {
                        console.log(error);
                    }
                })
            }
        }

        $('#numero_page_select').on('change', function (){
            //document.querySelector('#body_contenu').innerHTML = '<tr class="bg-white"><td class="text-danger font-weight-bold text-center" style="font-size: 28px;">{{ 'Loading data'|trans }}</td></tr>';
            index_page = this.value;

            document.querySelector('#body_contenu').innerHTML = '<h1>{{ 'Loading...' | trans}}</h1>'

            affiche_page_courante(index_page)

            affiche_lignes_courante(index_page)

        })

        $('#select_numero').on('change', function (){
            initialiser_numero_select();
            lettres_billes(this.value);
            infos_arbre(this.value)

        })
        $('#btn_numero_feuillet').on('click', function (){
            $('#txt_numfeuillet').val('');
        })
        $('#btn_edit_feuillet').on('click', function (){
            if (
                $('#parc_usine').val() === "" ||
                $('#destination').val() === "" ||
                $('#date_chargement').val() === "" ||
                $('#immatriculation').val() === "" ||
                $('#date_chargement').val() === null
            ){
                alert("SVP!!! Saisissez les champs étoilés avant de continuer");
            }else {
                maj_page_brh();
            }


        })
        $('#lettre_lignepagebrh').on('change', function (){

            document.querySelector('#longeur_lignepagebrh').value = "";
            document.querySelector('#diametre_lignepagebrh').value = "";
            document.querySelector('#cubage_lignepagebrh').value = "";

            affiche_mensurations( $('#select_numero').val(), this.value);
        })

        $('#longeur_lignepagebrh').on('change', function (){
            $("#cubage_lignepagebrh").val(calcul_volume(this.value, $('#diametre_lignepagebrh').val()))
        })

        $('#diametre_lignepagebrh').on('change', function (){
            $("#cubage_lignepagebrh").val(calcul_volume($('#longeur_lignepagebrh').val(), this.value))
        })

        $('#longeur_lignepagebrh_dpif').on('change', function (){
            $("#cubage_lignepagebrh_dpif").val(calcul_volume(this.value, $('#diametre_lignepagebrh_dpif').val()))
        })

        $('#diametre_lignepagebrh_dpif').on('change', function (){
            $("#cubage_lignepagebrh_dpif").val(calcul_volume($('#longeur_lignepagebrh_dpif').val(), this.value))
        })


        function calcul_volume(lng, dm){
            return Math.round((((dm * dm)/4)*3.14159 * (lng/1000000)) * 1000)/1000
        }

        $('#btn_save').on('click', function (){

            if (
                $('#parc_usine').val() === "" ||
                $('#destination').val() === "" ||
                $('#date_chargement').val() === "" ||
                $('#immatriculation').val() === "" ||
                $('#date_chargement').val() === null
            ){
                alert("SVP!!! Saisissez les champs étoilés avant de continuer");
            }else {
                maj_page_brh();
            }

        })

        function affiche_pages(id_brh){

            $.ajax({
                url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/' +id_brh,
                type: 'POST',
                data: {'id_brh': id_brh},
                success: function(response) {

                    let page_brh = JSON.parse(response);
                    var contenu = '';
                    let select_page = document.querySelector("#numero_page_select");



                    for(var i = 0; i < page_brh.length ; i++){

                        contenu = contenu + '<option value="' + page_brh[i].id_page + '">' + page_brh[i].numero_page + '</option>';
                    }
                    contenu = contenu + '</div>'
                    select_page.innerHTML = contenu;

                    affiche_page_courante(select_page.value);
                    $('#numero_page_select').val(page_brh[0].id_page)
                    index_page =  $('#numero_page_select').val();

                    affiche_lignes_courante(index_page)
                    //affiche_lignes_courante(page_brh[0].id_page);
                },
                error: function(error) {
                    console.log(error);
                }
            })
        }
        //Affiche la page_courante
        function affiche_page_courante(id_page){
            $.ajax({
                url: '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/data/' +id_page,
                type: 'POST',
                data: {'id_brh': id_page},
                success: function(response) {

                    let page_brh = JSON.parse(response);

                    let date_chargement = page_brh[0].date_chargement;
                    $('#destination').val(page_brh[0].destination);
                    // charge_usines(page_brh[0].destination)

                    $('#date_chargement').val(date_chargement);
                    $('#chauffeur').val(page_brh[0].transporteur);
                    $('#cout').val(page_brh[0].cout);
                    $('#village').val(page_brh[0].village);
                    $('#immatriculation').val(page_brh[0].immatriculation);
                    $('#parc_usine').val(page_brh[0].parc_usine);
                    $('#lbl_usine').text(page_brh[0].usine_dest);
                    $('#lbl_dest').text(page_brh[0].destination);
                    if (page_brh[0].photo){
                        document.querySelector("#image_feuillet").src ="{{ asset('images/uploads/brh') }}/" +  page_brh[0].photo
                    }


                },
                error: function(error) {
                    console.log(error);
                }
            })
        }

        function affiche_lignes_courante(id_page){
            $.ajax({
                url: '{{ path('app_portail') }}snvlt/docbrh/op/lignes_brh/data/' +id_page,
                type: 'POST',
                data: {'id_brh': id_page},
                success: function(response) {

                    let lignes = JSON.parse(response);
                    var contenu = '';
                    let cubage_total = 0;
                    if(lignes.length === 0){
                        // document.querySelector('#body_contenu').innerHTML = '<tr class="bg-white"><td class="text-danger font-weight-bold text-center" style="font-size: 28px;">{{ 'No Data Available'|trans }}</td></tr>';
                        document.querySelector('#body_contenu').innerHTML = '<tr ><h6 class="text-danger font-weight-lighter bg-transparent">No Data Available</h6></tr>'
                    } else{

                        for(var i = 0; i < lignes.length ; i++){
                            contenu = contenu + '<td class="text-center"><a class="text-dark font-weight-bold" style="font-size: 16px;" href="#" id="' + lignes[i].id_ligne + '">' + lignes[i].numero_ligne + '</a></td>' +
                                '<td class="text-center"><span class="badge bg-dark text-white p-1"style="font-size: 16px;">' + lignes[i].lettre  + '</span></td>'+
                                '<td><span>' + lignes[i].essence  + '</span></td>'+
                                '<td class="text-center"><span>' + lignes[i].zh_brh  + '</span></td>'+
                                '<td class="text-center"><span>' + lignes[i].x_brh  + '</span></td>'+
                                '<td class="text-center"><span>' + lignes[i].y_brh  + '</span></td>'+
                                '<td class="text-center"><span>' + lignes[i].lng_brh  + '</span></td>'+
                                '<td class="text-center"><span>' + lignes[i].dm_brh  + '</span></td>'+
                                '<td class="text-center"><span class="font-weight-bold alert-dark badge p-1 rounded-5" style="font-size: 16px;">' + Math.round((lignes[i].cubage_brh) * 1000)/1000  + '</span></td>'+
                                '<td class="text-center"><a class="editer_b btn-primary p-1 rounded-4"  data-bs-toggle="modal" data-bs-target="#saisiebrh_dpif"  href="#" style="font-size: 16px;" id="' + lignes[i].id_ligne + '" >Editer</a><a class="supprimer_b btn-danger p-1 rounded-4" data-bs-toggle="modal" data-bs-target="#delete_bille_modal" href="#" style="font-size: 16px;margin-left: 5px;" id="' + lignes[i].id_ligne + '" >Supprimer</a></td>'+
                                '</tr>';
                            cubage_total = Math.round((cubage_total + lignes[i].cubage_brh) * 1000)/1000;
                        }

                        contenu = contenu + '<tr class="alert-danger"><td class="text-center"><a class="text-dark font-weight-bold"></a></td>' +
                            '<td class="text-center"></td>'+
                            '<td></td>'+
                            '<td class="text-center"></td>'+
                            '<td class="text-center"></td>'+
                            '<td class="text-center"></td>'+
                            '<td class="text-center"></td>'+
                            '<td class="text-center"></td>'+
                            '<td class="text-center font-weight-bold" style="font-size: 18px;"><span>' + cubage_total  + '</span></td>'+
                            '<td class="text-center"></td>'+
                            '</tr>';
                        contenu = contenu + '</div>'
                        document.querySelector('#body_contenu').innerHTML = contenu;
                    }
                },
                error: function(error) {
                    console.log(error);
                }
            })
        }

        function liste_essence(){
            $.ajax({
                'url': '{{ path('essences.json') }}',
                'type': 'POST',
                success: function(response) {
                    let liste_essence = JSON.parse(response)
                    var contenu = '<option>Sélectionnez l\'essence</option>';

                    for (var i = 0; i< liste_essence.length ; i++){
                        contenu = contenu + '<option value="' + liste_essence[i].essence_id + '">' + liste_essence[i].nom_vernaculaire + '</option>'
                    }
                    document.querySelector('.txt_essence').innerHTML = contenu;
                }
            })
        }

        //Charge les numeros CP disponibles pour cette foret
        function liste_numeros_cp(){
            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/numcp/dispo/' + index_page,
                'type': 'POST',
                success: function(response) {
                    let liste_numeros = JSON.parse(response)
                    var contenu = '<option>{{ 'Select tree No' | trans }}</option>';

                    for (var i = 0; i< liste_numeros.length ; i++){
                        contenu = contenu + '<option value="' + liste_numeros[i].id_ligne + '">' + liste_numeros[i].num + '</option>'
                    }
                    document.querySelector('.select_numero').innerHTML = contenu;
                }
            })
        }

        function liste_zones(){
            $.ajax({
                'url': '{{ path('zoneh.json') }}',
                'type': 'POST',
                success: function(response) {
                    let liste_zone = JSON.parse(response)
                    var contenu = '<option>Sélectionnez la zone</option>';

                    for (var i = 0; i< liste_zone.length ; i++){
                        contenu = contenu + '<option value="' + liste_zone[i].zone_id + '">' + liste_zone[i].zone_nom + '</option>'
                    }
                    document.querySelector('.txt_zone').innerHTML = contenu;
                }
            })
        }

        $("#save_data").on('click', function (){

            //Vérification des données en-tetes
            if (
                $('#parc_usine').val() === "" ||
                $('#destination').val() === "" ||
                $('#date_chargement').val() === "" ||
                $('#date_chargement').val() === null
            ){
                Swal.fire({
                    toast: true,
                    position: "top-end",
                    background: '#f5c8b8',
                    timer : 3000,
                    icon: "success",
                    title: '{% trans %}Please Fill input concerning Factory, date and destination before continue{% endtrans %}',
                    showConfirmButton: false
                });

                alert("{% trans %}Please Fill input with star before continue{% endtrans %}")
            }else {
                if (
                    $('#select_numero').val() === "" ||
                    $('#lettre_lignepagebrh').val() === "" ||
                    $('#nom_essencebrh').val() === "" ||
                    $('#x_lignepagebrh').val() === "" ||
                    $('#y_lignepagebrh').val() === "" ||
                    $('#longeur_lignepagebrh').val() === "" ||
                    $('#diametre_lignepagebrh').val() === "" ||
                    $('#zh_lignepagebrh').val() === null
                ){
                    Swal.fire({
                        toast: true,
                        position: "top-end",
                        background: '#f5c8b8',
                        timer : 3000,
                        icon: "success",
                        title: '{% trans %}Please Fill input with star before continue{% endtrans %}',
                        showConfirmButton: false
                    });

                    alert("{% trans %}Please Fill input with star before continue{% endtrans %}");

                }else if ( $('#longeur_lignepagebrh').val() > 2000 || $('#longeur_lignepagebrh').val() < 0 ||
                    $('#diametre_lignepagebrh').val() > 200 || $('#diametre_lignepagebrh').val() < 0 ||
                    ($('#x_lignepagebrh').val()).length > 7 || ($('#x_lignepagebrh').val()).length  < 6 ||
                    ($('#y_lignepagebrh').val()).length > 7 || ($('#y_lignepagebrh').val()).length  < 6
                ) {
                    Swal.fire({
                        toast: true,
                        position: "top-end",
                        background: '#f5c8b8',
                        timer : 3000,
                        icon: "success",
                        title: "{% trans %}The values seem to be invalid{% endtrans %}",
                        padding: '1em'
                    });
                } else {

                    add_ligne_brh();
                }
            }


        });

        $('#save_data_dpif').on('click', function (){


            if (
                $('#numero_lignepagebrh_dpif').val() === "" ||
                $('#lettre_lignepagebrh_dpif').val() === "" ||
                $('#nom_essencebrh_dpif').val() === "" ||
                $('#x_lignepagebrh_dpif').val() === "" ||
                $('#y_lignepagebrh_dpif').val() === "" ||
                $('#longeur_lignepagebrh_dpif').val() === "" ||
                $('#diametre_lignepagebrh_dpif').val() === "" ||
                $('#zh_lignepagebrh_dpif').val() === null
            ){
                Swal.fire({
                    toast: true,
                    position: "top-end",
                    background: '#f5c8b8',
                    timer : 3000,
                    icon: "success",
                    title: '{% trans %}Please Fill input with star before continue{% endtrans %}',
                    showConfirmButton: false
                });

                alert("{% trans %}Please Fill input with star before continue{% endtrans %}");

            }else if ( $('#longeur_lignepagebrh_dpif').val() > 2000 || $('#longeur_lignepagebrh_dpif').val() < 0 ||
                $('#diametre_lignepagebrh_dpif').val() > 200 || $('#diametre_lignepagebrh_dpif').val() < 0 ||
                ($('#x_lignepagebrh_dpif').val()).length > 7 || ($('#x_lignepagebrh_dpif').val()).length  < 6 ||
                ($('#y_lignepagebrh_dpif').val()).length > 7 || ($('#y_lignepagebrh_dpif').val()).length  < 6
            ) {
                Swal.fire({
                    toast: true,
                    position: "top-end",
                    background: '#f5c8b8',
                    timer : 3000,
                    icon: "success",
                    title: "{% trans %}The values seem to be invalid{% endtrans %}",
                    padding: '1em'
                });
            } else {
                editElement();
            }


        })

        function editElement(){
            var obj = {};

            obj.numero_lignepagebrh =  $("#numero_lignepagebrh_dpif").val();
            obj.lettre_lignepagebrh =  document.querySelector("#lettre_lignepagebrh_dpif").value;
            obj.nom_essencebrh =  $("#nom_essencebrh_dpif").val();
            obj.zh_lignepagebrh =  $("#zh_lignepagebrh_dpif").val();
            obj.x_lignepagebrh =  $("#x_lignepagebrh_dpif").val();
            obj.y_lignepagebrh =  $("#y_lignepagebrh_dpif").val();
            obj.longeur_lignepagebrh =  $("#longeur_lignepagebrh_dpif").val();
            obj.diametre_lignepagebrh =  $("#diametre_lignepagebrh_dpif").val();
            obj.cubage_lignepagebrh =  $("#cubage_lignepagebrh_dpif").val();


            var data = JSON.stringify(obj);
            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/docbrh/op/data/edit_lignes/'  + data + "/" + id_bille,
                'type': 'POST',
                success: function(response) {
                    let retour = JSON.parse(response)
                    //console.log(retour)
                    affiche_lignes_courante(index_page)
                    alert("Mise à jour effectuée")
                    $("#saisiebrh_dpif .btn-close").click()
                }
            })
        }

        function maj_page_brh(){
            var obj = {};
            obj.date_chargementbrh =  $("#date_chargement").val();
            obj.destination_pagebrh =  $("#destination").val();
            obj.parc_usine_brh =  $("#parc_usine").val();
            obj.village_pagebrh =  $("#village").val();
            obj.chauffeurbrh =  $("#chauffeur").val();
            obj.cout_transportbrh =  $("#cout").val();
            obj.immatcamion =  $("#immatriculation").val();
            obj.code_docbrh=  id_brh;


            var data = JSON.stringify(obj);

            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/data/edit/'+ index_page + '/'  + data,
                'type': 'POST',

                success: function(response) {
                    Swal.fire({
                        toast: true,
                        position: "top-end",
                        background: '#dffbdd',
                        timer : 3000,
                        icon: "success",
                        title: '{% trans %}Page header saved !{% endtrans %}',
                        showConfirmButton: false
                    });

                }
            })
        }

        function add_ligne_brh(){
            var obj = {};

            obj.numero_lignepagebrh =  $("#select_numero").val();
            obj.lettre_lignepagebrh =  $("#lettre_lignepagebrh").val();
            obj.nom_essencebrh =  $("#nom_essencebrh").val();
            obj.zh_lignepagebrh =  $("#zh_lignepagebrh").val();
            obj.x_lignepagebrh =  $("#x_lignepagebrh").val();
            obj.y_lignepagebrh =  $("#y_lignepagebrh").val();
            obj.longeur_lignepagebrh =  $("#longeur_lignepagebrh").val();
            obj.diametre_lignepagebrh =  $("#diametre_lignepagebrh").val();
            obj.cubage_lignepagebrh =  $("#cubage_lignepagebrh").val();
            obj.code_pagebrh =  index_page;

            var data = JSON.stringify(obj);
            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/data/add_lignes/'  + data + "/0",
                'type': 'POST',
                success: function(response) {
                    let retour = JSON.parse(response)
                    console.log(retour)
                    //alert(retour[0].code_brh)
                    //alert(retour)
                    if (retour[0].code_brh === "SAME_NUMBER") {
                        document.querySelector('#lbl_alert').style = "display:inline";
                        document.querySelector('#lbl_alert').innerHTML = '<h5><img style="margin-right:10px;" src="{{ asset('assets/icons/pressure.png') }}" alt="on_pressure">{{ 'Sorry! This number with this forest is already in used' | trans}}</h5>';
                        //alert("Sorry! This number with this forest is already in used");


                    } else {

                        affiche_lignes_courante(index_page);
                        initialiser_numero_select();
                        liste_numeros_cp();
                        maj_page_brh();
                        lettres_billes(document.querySelector('#select_numero').value)
                        document.querySelector('#select_numero').focus();
                    }


                }
            })
        }

        function add_ligne_brh_dpif(){
            var obj = {};

            obj.numero_lignepagebrh =  $("#numero_lignepagebrh_dpif").val();
            obj.lettre_lignepagebrh =  document.querySelector("#lettre_lignepagebrh_dpif").value;
            obj.nom_essencebrh =  $("#nom_essencebrh_dpif").val();
            obj.zh_lignepagebrh =  $("#zh_lignepagebrh_dpif").val();
            obj.x_lignepagebrh =  $("#x_lignepagebrh_dpif").val();
            obj.y_lignepagebrh =  $("#y_lignepagebrh_dpif").val();
            obj.longeur_lignepagebrh =  $("#longeur_lignepagebrh_dpif").val();
            obj.diametre_lignepagebrh =  $("#diametre_lignepagebrh_dpif").val();
            obj.cubage_lignepagebrh =  $("#cubage_lignepagebrh_dpif").val();
            obj.code_pagebrh =  index_page;

            var data = JSON.stringify(obj);
            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/docbrh/op/pages_brh/data/add_lignes/'  + data + "/0",
                'type': 'POST',
                success: function(response) {

                    let retour = JSON.parse(response)
                    console.log(retour)
                    //alert(retour[0].code_brh)
                    //alert(retour)
                    if (retour[0].code_brh === "SAME_NUMBER") {
                        //document.querySelector('#lbl_alert').style = "display:inline";
                        //document.querySelector('#lbl_alert').innerHTML = '<h5><img style="margin-right:10px;" src="{{ asset('assets/icons/pressure.png') }}" alt="on_pressure">{{ 'Sorry! This number with this forest is already in used' | trans}}</h5>';
                        alert("Désolé! Ce Numéro de bille a déjà été utilisé pour cette forêt");


                    } else {
                        initialiser_dpif();
                        affiche_lignes_courante(index_page);
                        maj_page_brh();
                        document.querySelector('#numero_lignepagebrh_dpif').focus();
                    }


                }
            })
        }
        function initialiser_dpif(){
            $("#numero_lignepagebrh_dpif").val('');
            $("#lettre_lignepagebrh_dpif")[0].selectedIndex = 0;
            $("#nom_essencebrh_dpif")[0].selectedIndex = 0;
            $("#zh_lignepagebrh_dpif")[0].selectedIndex = 0;;
            $("#x_lignepagebrh_dpif").val('');
            $("#y_lignepagebrh_dpif").val('');
            $("#longeur_lignepagebrh_dpif").val('');
            $("#diametre_lignepagebrh_dpif").val('');
            $("#cubage_lignepagebrh_dpif").val('');
            $("#numero_lignepagebrh_dpif").focus()
        }
        $('#validate_page').on('click', function (e){
            if (
                $('#parc_usine').val() === "" ||
                $('#destination').val() === "" ||
                $('#date_chargement').val() === "" ||
                $('#date_chargement').val() === null
            ){
                Swal.fire({
                    toast: true,
                    background: '#f8e9e9',
                    icon: "error",
                    allowEscapeKey: false,
                    title: '{% trans %}BRH Loading{% endtrans %}',
                    html: "<h4 class='text-danger'>{% trans %}Please Fill input with star before continue{% endtrans %}</h4>",
                    padding: '1em'
                });
            }else {
                validate_pagebrh();
            }
        });

        function validate_pagebrh()
        {
            Swal.fire({
                html: "<h4 class='alert-success text-dark font-weight-bold p-3'>{% trans %}Validate this Loading ?{% endtrans %}</h4>",
                imageUrl: '{{ asset('assets/images/SNVLT.png') }}',
                showCancelButton: true,
                confirmButtonColor: '#23850a',
                cancelButtonColor: '#fb0000',
                background: '#f3f8e9',
                confirmButtonText: '{% trans %}Yes, Validate{% endtrans %}',
                cancelButtonText: '{% trans %}Cancel{% endtrans %}',
                toast: true,
                padding: '3em'
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        url:'{{ path('app_portail') }}snvlt/brh/soumettre_chargement/' + index_page ,
                        type : 'POST',
                        data : {id_page: index_page},
                        success: function(response){
                            console.log(response);
                            let valeur = JSON.parse(response);

                            Swal.fire({
                                toast: true,
                                position: "top-end",
                                background: '#dffbdd',
                                timer : 3000,
                                icon: "success",
                                title: '{% trans %}The loading is sent to manager!{% endtrans %}',
                                showConfirmButton: false
                            });

                            document.querySelector('#body_contenu').innerHTML = '<h1>{{ 'Loading...' | trans}}</h1>'
                            affiche_page_courante(index_page)

                            affiche_lignes_courante(index_page)
                        }
                    });


                }
            });
        }

        function expand(obj)
        {
            obj.size = 5;
        }

        function unexpand(obj)
        {
            obj.size = 1;
        }


        //Liste des usines par ville
        function charge_usines(id_ville){
            let contenu_parc_usine = "";
            $.ajax({
                url : '{{path('app_portail')}}snvlt/usines_cantonnement/l/' + id_ville,
                type: 'POST',
                success: function(response){
                    let liste_usines = JSON.parse(response)
                    if (liste_usines.length > 0){
                        contenu_parc_usine = '<option value="0">--{{ 'Select a factory'|trans }}--</option>';
                        for (let i = 0; i < liste_usines.length ; i++){
                            contenu_parc_usine = contenu_parc_usine + '<option value="' + liste_usines[i].id_usine + '">' + liste_usines[i].rs + '</option>'
                        }
                    }
                    document.querySelector('#parc_usine').innerHTML = contenu_parc_usine;
                }
            })
        }

        //Liste des lettres_billes
        function lettres_billes(id_arbre){
            let contenu_lettres = "";
            $.ajax({
                url : '{{path('app_portail')}}snvlt/numcp/dispo/lettres/' + id_arbre,
                type: 'POST',
                success: function(response){
                    let liste_lettres = JSON.parse(response)
                    if (liste_lettres.length > 0){

                        for (let i = 0; i < liste_lettres.length ; i++){
                            contenu_lettres = contenu_lettres + '<option value="' + liste_lettres[i].lettre + '">' + liste_lettres[i].lettre + '</option>'
                        }
                    }
                    document.querySelector('#lettre_lignepagebrh').innerHTML = contenu_lettres;
                    affiche_mensurations(id_arbre, $('#lettre_lignepagebrh').val())
                }
            })
        }

        //Infos sur l'arbre sélectionné
        function infos_arbre(id_arbre){

            $.ajax({
                url : '{{path('app_portail')}}snvlt/numcp/arbre_infos/' + id_arbre,
                type: 'POST',
                success: function(response){
                    let infos = JSON.parse(response)
                    if (infos.length > 0){
                        $('#nom_essencebrh').val(infos[0].essence);
                        $('#zh_lignepagebrh').val(infos[0].zh);
                        $('#x_lignepagebrh').val(infos[0].x_arbre);
                        $('#y_lignepagebrh').val(infos[0].y_arbre);
                    }
                }
            })
        }

        //Affiche les mensurations de la bille
        function affiche_mensurations(id_arbre, lettre){

            $.ajax({
                url : '{{path('app_portail')}}snvlt/numcp/billes/donnees/' + id_arbre + '/' + lettre,
                type: 'POST',
                success: function(response){
                    let infos = JSON.parse(response)
                    if (infos.length > 0){
                        $('#longeur_lignepagebrh').val(infos[0].lng);
                        $('#diametre_lignepagebrh').val(infos[0].dm);
                        $('#cubage_lignepagebrh').val(infos[0].vol);
                    }
                }
            })
        }

        function initialiser_numero_select(){
            document.querySelector('#lettre_lignepagebrh').selectIndex = -1;
            document.querySelector('#nom_essencebrh').value = "";
            document.querySelector('#zh_lignepagebrh').value = "";
            document.querySelector('#x_lignepagebrh').value = "";
            document.querySelector('#y_lignepagebrh').value = "";
            document.querySelector('#longeur_lignepagebrh').value = "";
            document.querySelector('#diametre_lignepagebrh').value = "";
            document.querySelector('#cubage_lignepagebrh').value = "";

        }


        function numStr(a, b) {
            a = '' + a;
            b = b || ' ';
            var c = '',
                d = 0;
            while (a.match(/^0[0-9]/)) {
                a = a.substr(1);
            }
            for (var i = a.length-1; i >= 0; i--) {
                c = (d != 0 && d % 3 == 0) ? a[i] + b + c : a[i] + c;
                d++;
            }
            return c;
        }

        $("#photo_feuillet").on('click', function (){
            if (index_page > 0){
                document.location.href = '{{ path('app_portail') }}snvlt/docbrh/op/pages/p/' + index_page;
            }

        })


        //Administration
            // Modifier USER
            $('#modif_user').on('click', function (){

                id_user = $('#modif_utilisateurs').val();
                let contenu_roles = "";
                document.querySelector('.select_rattachement').style = "display:none;";
                initialise();
                $.ajax({
                    url : '{{path('app_portail')}}snvlt/auth/search-single-user/admin/' + id_user,
                    type: 'POST',
                    success: function(response){
                        let infos = JSON.parse(response)
                        if (infos.length > 0){
                            $('#txt_nom').val(infos[0].nom);
                            $('#txt_prenom').val(infos[0].prenom);
                            $('#txt_email').val(infos[0].email);
                            $('#txt_fonction').val(infos[0].fonction);
                            $('#txt_mobile').val(infos[0].mobile);
                            $('#select_groupe').val(infos[0].groupe);
                            $('#select_op').val(infos[0].code_op);
                            $('#select_langue').val(infos[0].locale);
                            $('#select_titre').val(infos[0].titre);
                            $('#select_roles').val(infos[0].roles);
                            if (infos[0].responsable){
                                document.querySelector('#isResponsable').checked  = true;
                            }
                            if (infos[0].actif){
                                document.querySelector('#isActif').checked  = true;
                            }
                            if (infos[0].verified){
                                document.querySelector('#isVerified').checked  = true;
                            }
                            if (infos[0].nouveau){
                                document.querySelector('#isNouveau').checked  = true;
                            }
                            if (infos[0].sodefor){
                                document.querySelector('#isSodef').checked  = true;
                            }
                            if (infos[0].statut){
                                document.querySelector('#Statut').checked  = true;
                            }

                            getStructure($('#select_op').val(), infos[0].entite);

                            if (infos[0].code_direction !== 0){
                                if (infos[0].code_service !== 0){
                                    $('.select_rattachement').val("2");
                                    fct_service_rattachement("2", infos[0].code_service);
                                } else {
                                    $('.select_rattachement').val("1");
                                    fct_service_rattachement("1", infos[0].code_direction);
                                }

                            } else {

                            }
                             for (var j=0; infos[0].roles.length > j; j++){
                                 contenu_roles =  '<option value="'+ infos[0].roles[j] + '">' +   infos[0].roles[j] + '</option>';
                             }

                            document.querySelector('#select_roles').innerHTLM = contenu_roles;
                        }
                    }
                })
            });

        function getStructure(code_op, valeur_entite){

            let url = '';
            let valeur = code_op;
            let contenu = '<option value="0">Sélectionnez l\'entité</option>';


            document.querySelector('.select_rattachement').style = "display:none;";
            if (valeur === "1"){
                $('.select_rattachement').addClass("input-group mb-2");
                document.querySelector('.select_rattachement').style = "font-size: large;background: #ccde96;";

            } else if (valeur === "2"){
                url = "{{ path('json_exploitants') }}"
            } else if (valeur === "3"){
                url = "{{ path('json_usines_all') }}"
            } else if (valeur === "4"){
                url = "{{ path('json_exportateurs') }}"
            } else if (valeur === "5"){
                url = "{{ path('json_dr') }}"
            } else if (valeur === "6"){
                url = "{{ path('json_ddef_all') }}"
            } else if (valeur === "7"){
                url = "{{ path('json_cantonnement') }}"

            } else if (valeur === "9"){
                url = "{{ path('json_ois') }}"
            } else if (valeur === "10"){
                url = "{{ path('json_pf') }}"
            } else if (valeur === "11"){
                url = "{{ path('json_sodefor') }}"
            }

            $.ajax({
                url: url,
                type: 'POST',
                success: function (response){
                    let reponse = JSON.parse(response);
                    for(var i=0; i < reponse.length; i++){
                        contenu = contenu + '<option value="' + reponse[i].id + '">' + reponse[i].rs + '</option>'
                    }
                    document.querySelector('.select_entite').innerHTML = contenu
                    document.querySelector('.select_entite').value = valeur_entite;
                }
            })



        }
        $('.select_rattachement').on('change', function (){ fct_service_rattachement(this.value)});
        $('.select_op').on('change', function (){ getStructure(this.value, "0")});

        function fct_service_rattachement(type_service, valeur){

            let url = '';
            let contenu  = '<option value="0">Sélectionnez la structure</option>';
            if (type_service === "1"){
                url = "{{ path('json_directions_minef') }}"
            } else if (type_service === "2"){
                url = "{{ path('json_services_minef') }}"
            }
            $.ajax({
                url: url,
                type: 'POST',
                success: function (response){
                    let value = JSON.parse(response);
                    for(var i=0; i < value.length; i++){
                        contenu = contenu + '<option value="' + value[i].id + '">' + value[i].rs + '</option>'
                    }
                    document.querySelector('.select_entite').innerHTML = contenu

                    document.querySelector('.select_entite').value = valeur;
                    //alert(valeur)
                }
            })

        }

        $('.btn_mdp').on('click', function (){
            $.ajax({
                'url': '{{ path('app_portail') }}snvlt/users/edit-user/cgmdp/'+ id_user ,
                'type': 'POST',
                success: function(response) {
                    let Reponse = JSON.parse(response);
                    if (Reponse[0].json_code === true){
                        Swal.fire("NOVEAU CODE UTILISATEUR : " + (Reponse[0].code.toUpperCase()));
                    } else {
                        affiche_popup('DESOLE! LE MOT DE PASSE NE PEUT ETRE CHANGE.');
                    }
                }
            })
        });
        $('.btn_save_edit').on('click', function (){
            if ($('#txt_nom').val() === ''){
                affiche_popup("Le nom est obligatoire")
            } else if ($('#txt_prenom').val() === ''){
                affiche_popup("Le prénom est obligatoire")
            } else if ($('#txt_contact').val() === ''){
                affiche_popup("Le contact est obligatoire")
            } else if ($('#txt_mobile').val() === '' || $('#txt_mobile').val().length < 8){
                affiche_popup("Le contact est obligatoire")
            } else if ($('#select_titre').val() === '0'){
                affiche_popup("Le titre est obligatoire")
            } else if ($('#select_op').val() === '0'){
                affiche_popup("Le Type Opérateur est obligatoire")
            } else if ($('#select_entite').val() === '0'){
                affiche_popup("La structure est obligatoire")
            } else if ($('#select_groupe').val() === null){
                affiche_popup("Le groupe est obligatoire")
            } else if ($('#select_langue').val() === '0'){
                affiche_popup("La langue est obligatoire")
            }  else {
                var obj = {};
                obj.nom =  $("#txt_nom").val();
                obj.prenoms =  $("#txt_prenom").val();
                obj.email =  $("#txt_email").val();
                obj.mobile =  $("#txt_mobile").val();
                obj.titre =  $("#select_titre").val();
                obj.groupe =  $("#select_groupe").val();
                obj.langue =  $("#select_langue").val();
                obj.op =  $("#select_op").val();
                obj.entite =  $("#select_entite").val();
                obj.fonction =  $("#txt_fonction").val();
                obj.rattachement =  $(".select_rattachement").val();
                obj.roles =  $("#select_roles").val();

                if (document.querySelector('#isSodef').checked === true){
                    obj.sodef =  1;
                } else {
                    obj.sodef =  0;
                }
                if (document.querySelector('#isNouveau').checked === true){
                    obj.nouveau =  1;
                } else {
                    obj.nouveau =  0;
                }
                if (document.querySelector('#isActif').checked === true){
                    obj.actif = 1;
                } else {
                    obj.actif =  0;
                }
                if (document.querySelector('#isVerified').checked === true){
                    obj.verified =  1;
                } else {
                    obj.verified =  0;
                }
                if (document.querySelector('#isResponsable').checked === true){
                    obj.responsable =  1;
                } else {
                    obj.responsable =  0;
                }
                if (document.querySelector('#Statut').checked === true){
                    obj.statut =  1;
                } else {
                    obj.statut =  0;
                }


                var data = JSON.stringify(obj);

                $.ajax({
                    'url': '{{ path('app_portail') }}snvlt/users/edit-single-user/'+ id_user +'/' + data,
                    'type': 'POST',
                    success: function(response) {
                        let Reponse = JSON.parse(response);
                        if (Reponse[0].code ==="SUCCESS"){
                            Swal.fire({
                                toast: true,
                                position: "top-end",
                                background: '#dffbdd',
                                timer : 3000,
                                icon: "success",
                                title: 'Utilisateur modifié avec succes',
                                showConfirmButton: false
                            });
                            initialise();
                            $("#user_modif_modal .btn-close").click();
                        } else {
                            affiche_popup('DESOLE! L\'ENTITE NE PEUT ÊTRE MODIFIEE.');
                        }
                    }
                })
            }

            function affiche_popup(texte){
                Swal.fire({
                    title: texte,
                    background: '#f8b8c0',
                    showClass: {
                        popup: `
                      animate__animated
                      animate__fadeInUp
                      animate__faster
                    `
                    },
                    hideClass: {
                        popup: `
                      animate__animated
                      animate__fadeOutDown
                      animate__faster
                    `
                    }
                });
            }

        })

        // Initialise les valeurs à VIDE
        function initialise(){
            $('#txt_nom').val('');
            $('#txt_prenom').val('');
            $('#txt_email').val('');
            $('#txt_mobile').val('+225');
            $('#txt_fonction').val('');
            $('#select_titre').val('0');
            $('#select_langue').val('0');
            $('#select_op').val('0');
            $('#select_entite').val('0');
            $('#select_groupe').val('0');
            $('.select_rattachement').val('0');
            $('.select_d').val('0');
            $('#txt_nom').focus();
            document.querySelector('#isVerified').checked = false;
            document.querySelector('#isActif').checked = false;
            document.querySelector('#isResponsable').checked = false;
            document.querySelector('#isNouveau').checked = false;
            document.querySelector('#isSodef').checked = false;
            document.querySelector('#Statut').checked = false;
        }
    </script>
{% endblock %}

